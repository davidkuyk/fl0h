(this.webpackJsonpfl0h=this.webpackJsonpfl0h||[]).push([[0],{169:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(20),s=a.n(c),r=(a(28),a(6)),i=a(21),o=a(8),j=a(14),l=a.n(j),d=a(0),b=function(e){var t=Object(n.useState)(e.task.description),a=Object(r.a)(t,2),c=(a[0],a[1],Object(n.useState)(new Date)),s=Object(r.a)(c,2),i=(s[0],s[1],Object(n.useState)("None")),o=Object(r.a)(i,2),j=(o[0],o[1],Object(n.useState)("today")),l=Object(r.a)(j,2);l[0],l[1];return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.task.description}),Object(d.jsx)("td",{children:e.distance}),Object(d.jsx)("td",{children:e.task.date.substring(0,10)}),Object(d.jsx)("td",{children:e.task.category}),Object(d.jsx)("td",{children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(){var t,a;t=!0,a=e.task._id,e.editModeChange(t,a)},children:"edit"}),Object(d.jsx)("button",{onClick:function(){e.deleteTask(e.task._id)},children:"delete"})]})})]})},u=a(25),h=a.n(u),O=(a(50),function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(new Date),i=Object(r.a)(s,2),o=i[0],j=i[1],b=Object(n.useState)("None"),u=Object(r.a)(b,2),O=u[0],x=u[1],g=Object(n.useState)("today"),f=Object(r.a)(g,2),p=f[0],v=f[1];return Object(d.jsx)("div",{children:Object(d.jsx)("form",{class:"newTask",onSubmit:function(e){e.preventDefault();var t={description:a,date:o,category:O};console.log("task date on submit: "+t.date),l.a.post("/tasks/add",t).then((function(e){return console.log(e.data)})).catch((function(e){console.log(e.response.request._response)})),window.location="/"},children:Object(d.jsx)("table",{children:Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:a,onChange:function(e){c(e.target.value)}})}),Object(d.jsx)("td",{children:Object(d.jsx)("div",{className:"form-control",children:p||"today"})}),Object(d.jsx)("td",{children:Object(d.jsx)("div",{children:Object(d.jsx)(h.a,{selected:o,onChange:function(e){return function(e){var t=new Date(e),a=new Date(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()),n=new Date,c=new Date(n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()),s=Math.floor(a-c)/864e5;s=1==s?"1 day until":s>1?Math.ceil(s)+" days until":-1==s?"1 day ago":s<-1?Math.ceil(Math.abs(s))+" days ago":"today",j(a),v(s)}(e)}})})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:O,onChange:function(e){x(e.target.value)}})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"submit",value:"add",className:"btn btn-primary"})})]})})})})})}),x=(a(66),function(e){var t=Object(n.useState)(e.task.description),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(new Date(new Date(e.task.date).toDateString())),o=Object(r.a)(i,2),j=o[0],b=o[1],u=Object(n.useState)(e.task.category),O=Object(r.a)(u,2),x=O[0],g=O[1],f=Object(n.useState)("today"),p=Object(r.a)(f,2),v=(p[0],p[1]);return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:c,onChange:function(e){s(e.target.value)}})}),Object(d.jsx)("td",{children:Object(d.jsx)("div",{className:"form-control",children:e.distance?e.distance:"today"})}),Object(d.jsx)("td",{children:Object(d.jsx)("div",{children:Object(d.jsx)(h.a,{selected:j,onChange:function(e){return function(e){console.log(e);var t=new Date(e),a=new Date(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()),n=new Date,c=new Date(n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()),s=Math.floor(a-c)/864e5;s=1==s?"1 day until":s>1?Math.ceil(s)+" days until":-1==s?"1 day ago":s<-1?Math.ceil(Math.abs(s))+" days ago":"today",b(a),v(s)}(e)}})})}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:x,onChange:function(e){g(e.target.value)}})}),Object(d.jsx)("td",{children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"btn-success",onClick:function(t){return function(t){t.preventDefault();var a={description:c,date:j,category:x};l.a.post("/tasks/update/"+e.task._id,a).then((function(e){return console.log(e.data)})).catch((function(e){console.log(e.response.request._response)})),window.location="/"}(t)},children:"save"}),Object(d.jsx)("button",{className:"btn-secondary",style:{marginLeft:8},onClick:function(){e.editModeChange(!1,null)},children:"cancel"})]})})]})}),g=function(e){var t=Object(n.useState)({status:!0,rowKey:null}),a=Object(r.a)(t,2),c=a[0],s=a[1],i=function(e,t){s({status:e,rowKey:t})},o=function(t){l.a.delete("/tasks/"+t).then((function(e){return console.log(e.data)})),e.setTasks({tasks:e.tasks.tasks.filter((function(e){return e._id!==t}))})};return Object(d.jsxs)("div",{className:"tableWrapper",children:[Object(d.jsx)(O,{}),Object(d.jsx)("form",{class:"newTask",children:Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{className:"thead-dark",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Description"}),Object(d.jsx)("th",{children:"Distance"}),Object(d.jsx)("th",{children:"Date"}),Object(d.jsx)("th",{children:"Category"}),Object(d.jsx)("th",{children:"Actions"})]})}),Object(d.jsx)("tbody",{children:e.tasks.tasks.map((function(e){var t=new Date(e.date),a=new Date(t.toDateString()),n=new Date,s=new Date(n.toDateString()),r=Math.floor(a-s)/864e5;return r=1==r?"1 day until":r>1?Math.ceil(r)+" days until":-1==r?"1 day ago":r<-1?Math.ceil(Math.abs(r))+" days ago":"today",c.status&&c.rowKey===e._id?Object(d.jsx)(x,{task:e,deleteTask:o,distance:r,editModeChange:i},e._id):Object(d.jsx)(b,{task:e,deleteTask:o,distance:r,editModeChange:i},e._id)}))})]})})]})},f=function(){return Object(d.jsx)("div",{class:"water"})},p=function(){return Object(d.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(d.jsx)(i.b,{to:"/",className:"navbar-brand",children:"fl0h"}),Object(d.jsx)("div",{className:"collapse navbar-collapse",children:Object(d.jsx)("ul",{className:"navbar-nav mr-auto"})})]})},v=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(""),s=Object(r.a)(c,2);s[0],s[1];return Object(d.jsxs)("div",{className:"auth",children:[Object(d.jsxs)("div",{className:"registration",children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)}}),Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{type:"password"}),Object(d.jsx)("button",{children:"Register"})]}),Object(d.jsxs)("div",{className:"login",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)}}),Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{type:"password"}),Object(d.jsx)("button",{children:"Register"})]})]})},m=a(66);var y=function(){var e=Object(n.useState)({tasks:[]}),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),j=Object(r.a)(s,2),b=j[0],u=j[1];return Object(n.useEffect)((function(){l.a.get("/tasks/").then((function(e){var t=m.orderBy(e.data,["date"],"asc");c({tasks:t})})).then((function(){setTimeout((function(){u(!1)}),1e3)})).catch((function(e){console.log(e)}))}),[]),b?Object(d.jsx)(f,{}):Object(d.jsx)("div",{className:"App",children:Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)(i.a,{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(p,{}),Object(d.jsx)(o.a,{path:"/",exact:!0,render:function(){return Object(d.jsx)(g,{tasks:a,setTasks:c,component:g})}}),Object(d.jsx)(o.a,{path:"/edit/:id",component:x}),Object(d.jsx)(o.a,{path:"/login",component:v})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(d.jsx)(y,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},28:function(e,t,a){}},[[169,1,2]]]);
//# sourceMappingURL=main.db86c36f.chunk.js.map